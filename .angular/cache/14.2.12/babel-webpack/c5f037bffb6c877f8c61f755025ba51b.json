{"ast":null,"code":"import { EventEmitter, SimpleChanges } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\n\nfunction CompanyDetailComponent_mat_card_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-card\")(1, \"mat-card-header\")(2, \"h1\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"mat-card-content\")(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"mat-card-footer\")(20, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function CompanyDetailComponent_mat_card_0_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.edit());\n    });\n    i0.ɵɵtext(21, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function CompanyDetailComponent_mat_card_0_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.search());\n    });\n    i0.ɵɵtext(23, \"Search All\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function CompanyDetailComponent_mat_card_0_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.delete(ctx_r5.company));\n    });\n    i0.ɵɵtext(25, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.company == null ? null : ctx_r0.company.companyName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Address: \", ctx_r0.company == null ? null : ctx_r0.company.address1, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Address: \", ctx_r0.company == null ? null : ctx_r0.company.address2, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Town: \", ctx_r0.company == null ? null : ctx_r0.company.town, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Country: \", ctx_r0.company == null ? null : ctx_r0.company.country, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Postcode: \", ctx_r0.company == null ? null : ctx_r0.company.postcode, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Industry: \", ctx_r0.company == null ? null : ctx_r0.company.industry, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Staff: \", ctx_r0.company == null ? null : ctx_r0.company.staffCount, \"\");\n  }\n}\n\nfunction CompanyDetailComponent_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-card\")(1, \"form\", 3);\n    i0.ɵɵlistener(\"ngSubmit\", function CompanyDetailComponent_mat_card_1_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.save());\n    });\n    i0.ɵɵelementStart(2, \"mat-card-header\")(3, \"h1\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"mat-card-content\")(6, \"mat-form-field\");\n    i0.ɵɵelement(7, \"input\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"mat-form-field\");\n    i0.ɵɵelement(9, \"input\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"mat-form-field\");\n    i0.ɵɵelement(11, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"mat-form-field\");\n    i0.ɵɵelement(13, \"input\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"mat-form-field\");\n    i0.ɵɵelement(15, \"input\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"mat-form-field\");\n    i0.ɵɵelement(17, \"input\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"mat-form-field\");\n    i0.ɵɵelement(19, \"input\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"mat-form-field\");\n    i0.ɵɵelement(21, \"input\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"mat-form-field\");\n    i0.ɵɵelement(23, \"input\", 12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"mat-card-footer\")(25, \"button\", 13);\n    i0.ɵɵtext(26, \"Save\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.companyEditForm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.company == null ? null : ctx_r1.company.companyName);\n  }\n}\n\nexport let CompanyDetailComponent = /*#__PURE__*/(() => {\n  class CompanyDetailComponent {\n    constructor(fb) {\n      this.editView = false; // creating new FormControls, with validation\n\n      this.companyName = new FormControl('', Validators.required);\n      this.addressOne = new FormControl('', Validators.required);\n      this.addressTwo = new FormControl('');\n      this.town = new FormControl('', Validators.required);\n      this.city = new FormControl('', Validators.required);\n      this.postCode = new FormControl('', Validators.required);\n      this.country = new FormControl('');\n      this.contactEmail = new FormControl('', Validators.required);\n      this.staffCount = new FormControl('');\n      this.industry = new FormControl('');\n      this.searchEvent = new EventEmitter();\n      this.editEvent = new EventEmitter();\n      this.deleteEvent = new EventEmitter();\n      this.saveEvent = new EventEmitter();\n      this.companyEditForm = fb.group({\n        companyName: this.companyName,\n        contactEmail: this.contactEmail,\n        addressOne: this.addressOne,\n        addressTwo: this.addressTwo,\n        town: this.town,\n        city: this.city,\n        postCode: this.postCode,\n        country: this.country,\n        staffCount: this.staffCount,\n        industry: this.industry\n      });\n    }\n\n    ngOnChanges(change) {\n      if (change.company.currentValue !== undefined) {\n        this.populateForm(change.company.currentValue);\n      }\n    }\n\n    edit() {\n      this.toggleEdit();\n    }\n\n    delete(company) {\n      this.deleteEvent.emit(company);\n    }\n\n    save() {\n      this.saveEvent.emit(this.createCompanyObject(this.companyEditForm));\n    }\n\n    search() {\n      this.searchEvent.emit();\n    }\n\n    toggleEdit() {\n      this.editView = !this.editView;\n    }\n\n    populateForm(companyDetails) {\n      this.companyEditForm.get('contactEmail').setValue(companyDetails.contactEmail);\n      this.companyEditForm.get('addressOne').setValue(companyDetails.address1);\n      this.companyEditForm.get('addressTwo').setValue(companyDetails.address2);\n      this.companyEditForm.get('town').setValue(companyDetails.town);\n      this.companyEditForm.get('city').setValue(companyDetails.city);\n      this.companyEditForm.get('country').setValue(companyDetails.country);\n      this.companyEditForm.get('postCode').setValue(companyDetails.postcode);\n      this.companyEditForm.get('industry').setValue(companyDetails.industry);\n      this.companyEditForm.get('staffCount').setValue(companyDetails.staffCount);\n    }\n\n    createCompanyObject(form) {\n      const companyObject = {\n        id: this.company.id,\n        companyName: this.company.companyName,\n        address1: form.value.address1,\n        address2: form.value.address2,\n        town: form.value.town,\n        city: form.value.city,\n        postcode: form.value.postCode,\n        contactEmail: form.value.contactEmail,\n        country: form.value.country,\n        industry: form.value.industry,\n        staffCount: form.value.staffCount\n      };\n      return companyObject;\n    }\n\n  }\n\n  CompanyDetailComponent.ɵfac = function CompanyDetailComponent_Factory(t) {\n    return new (t || CompanyDetailComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n  };\n\n  CompanyDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CompanyDetailComponent,\n    selectors: [[\"app-company-detail\"]],\n    inputs: {\n      company: \"company\"\n    },\n    outputs: {\n      searchEvent: \"searchEvent\",\n      editEvent: \"editEvent\",\n      deleteEvent: \"deleteEvent\",\n      saveEvent: \"saveEvent\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 2,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [3, \"formGroup\", \"ngSubmit\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"contactEmail\", \"formControlName\", \"contactEmail\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"address1\", \"formControlName\", \"addressOne\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"address2\", \"formControlName\", \"addressTwo\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"town\", \"formControlName\", \"town\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"city\", \"formControlName\", \"city\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"country\", \"formControlName\", \"country\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"postcode\", \"formControlName\", \"postCode\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"industry\", \"formControlName\", \"industry\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"staffCount\", \"formControlName\", \"staffCount\"], [\"mat-raised-button\", \"\", \"color\", \"primary\"]],\n    template: function CompanyDetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CompanyDetailComponent_mat_card_0_Template, 26, 8, \"mat-card\", 0);\n        i0.ɵɵtemplate(1, CompanyDetailComponent_mat_card_1_Template, 27, 2, \"mat-card\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.editView);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.editView);\n      }\n    },\n    dependencies: [i2.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\"mat-card-content[_ngcontent-%COMP%]{padding-left:35px;font-size:1.1em}mat-card-footer[_ngcontent-%COMP%]{border-top:solid 1px white;font-size:.9em;padding:2px}mat-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2px}mat-form-field[_ngcontent-%COMP%]{display:block}\"]\n  });\n  return CompanyDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}