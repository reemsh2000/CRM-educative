{"ast":null,"code":"import { EventEmitter, SimpleChanges } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\n\nfunction ClientDetailComponent_mat_card_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-card\")(1, \"mat-card-header\")(2, \"h1\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"mat-card-subtitle\")(5, \"h2\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"mat-card-content\")(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"mat-card-footer\")(13, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function ClientDetailComponent_mat_card_0_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.edit());\n    });\n    i0.ɵɵtext(14, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function ClientDetailComponent_mat_card_0_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.searchAll());\n    });\n    i0.ɵɵtext(16, \"Search All Clients\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ClientDetailComponent_mat_card_0_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.delete(ctx_r5.client));\n    });\n    i0.ɵɵtext(18, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r0.client == null ? null : ctx_r0.client.firstname, \" \", ctx_r0.client == null ? null : ctx_r0.client.lastname, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.client == null ? null : ctx_r0.client.companyName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Email: \", ctx_r0.client == null ? null : ctx_r0.client.email, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Telephone: \", ctx_r0.client == null ? null : ctx_r0.client.telephoneNumber, \"\");\n  }\n}\n\nfunction ClientDetailComponent_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-card\")(1, \"form\", 3)(2, \"mat-card-header\")(3, \"mat-form-field\");\n    i0.ɵɵelement(4, \"input\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-form-field\");\n    i0.ɵɵelement(6, \"input\", 5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"mat-card-subtitle\")(8, \"h2\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"mat-card-content\")(11, \"mat-form-field\");\n    i0.ɵɵelement(12, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"mat-form-field\");\n    i0.ɵɵelement(14, \"input\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"mat-card-footer\")(16, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ClientDetailComponent_mat_card_1_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.save());\n    });\n    i0.ɵɵtext(17, \"Save\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.clientEditForm);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.client == null ? null : ctx_r1.client.companyName);\n  }\n}\n\nexport let ClientDetailComponent = /*#__PURE__*/(() => {\n  class ClientDetailComponent {\n    constructor(fb) {\n      this.fb = fb;\n      this.editView = false;\n      this.searchEvent = new EventEmitter();\n      this.editEvent = new EventEmitter();\n      this.deleteEvent = new EventEmitter();\n      this.saveEvent = new EventEmitter(); // creating new FormControls, with validation\n\n      this.firstname = new FormControl('', Validators.required);\n      this.lastname = new FormControl('', Validators.required);\n      this.email = new FormControl('', Validators.required);\n      this.telephoneNumber = new FormControl('');\n    }\n\n    ngOnInit() {\n      this.clientEditForm = this.fb.group({\n        firstname: this.firstname,\n        lastname: this.lastname,\n        email: this.email,\n        telephoneNumber: this.telephoneNumber\n      });\n    }\n\n    ngOnChanges(change) {\n      if (change.client.currentValue !== undefined) {\n        this.populateForm(change.client.currentValue);\n      }\n    }\n\n    searchAll() {\n      this.searchEvent.emit();\n    }\n\n    edit() {\n      this.toggleEdit();\n    }\n\n    delete(client) {\n      this.deleteEvent.emit(client);\n    }\n\n    save() {\n      this.saveEvent.emit(this.client);\n      this.toggleEdit();\n    }\n\n    toggleEdit() {\n      this.editView = !this.editView;\n    }\n\n    populateForm(clientDetails) {\n      this.clientEditForm.get('firstname').setValue(clientDetails.firstname);\n      this.clientEditForm.get('lastname').setValue(clientDetails.lastname);\n      this.clientEditForm.get('email').setValue(clientDetails.email);\n      this.clientEditForm.get('telephoneNumber').setValue(clientDetails.telephoneNumber);\n    }\n\n  }\n\n  ClientDetailComponent.ɵfac = function ClientDetailComponent_Factory(t) {\n    return new (t || ClientDetailComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n  };\n\n  ClientDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ClientDetailComponent,\n    selectors: [[\"app-client-detail\"]],\n    inputs: {\n      client: \"client\"\n    },\n    outputs: {\n      searchEvent: \"searchEvent\",\n      editEvent: \"editEvent\",\n      deleteEvent: \"deleteEvent\",\n      saveEvent: \"saveEvent\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 2,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [3, \"formGroup\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"firstname\", \"formControlName\", \"firstname\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"lastname\", \"formControlName\", \"lastname\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"email\", \"formControlName\", \"email\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"telephone\", \"formControlName\", \"telephoneNumber\"], [\"mat-button\", \"\", \"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"]],\n    template: function ClientDetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ClientDetailComponent_mat_card_0_Template, 19, 5, \"mat-card\", 0);\n        i0.ɵɵtemplate(1, ClientDetailComponent_mat_card_1_Template, 18, 2, \"mat-card\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.editView);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.editView);\n      }\n    },\n    dependencies: [i2.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\"mat-card-subtitle[_ngcontent-%COMP%]{padding-left:35px;font-size:1.2em}mat-card-content[_ngcontent-%COMP%]{padding-left:35px;font-size:1.1em}mat-card-footer[_ngcontent-%COMP%]{border-top:solid 1px white;padding-left:35px;font-size:.9em}mat-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2px}mat-form-field[_ngcontent-%COMP%]{display:block}\"]\n  });\n  return ClientDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}